<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>M. Daniel Mehus — Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Personal website of M. Daniel Mehus">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
  <header class="site-header">
    <a class="brand" href="/">M. Daniel Mehus</a>

    <div class="menu">
      <button class="menu-button" aria-haspopup="true" aria-expanded="false" aria-controls="menu-list">
        Menu ▾
      </button>
      <nav id="menu-list" class="menu-list" hidden>
        <a href="#about">About</a>
        <a href="#work">Work</a>
        <a href="#writing">Writing</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="content">
    <section id="about" class="section">
      <h2>About</h2>
      <p>Short bio goes here. One or two sentences is perfect.</p>
    </section>

    <section id="work" class="section">
      <h2>Work</h2>
      <p>Brief description of current projects or a link list.</p>
      <ul>
        <li><a href="#" target="_blank" rel="noopener">Project One</a></li>
        <li><a href="#" target="_blank" rel="noopener">Project Two</a></li>
      </ul>
    </section>

    <section id="writing" class="section">
      <h2>Writing</h2>
      <p>Essays, notes, or a link to a blog.</p>
    </section>

    <section id="contact" class="section">
      <h2>Contact</h2>
      <p>Email: <a href="mailto:you@example.com">you@example.com</a></p>
    </section>
  </main>

  <footer class="site-footer">
    <small>© <span id="year"></span> M. Daniel Mehus</small>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Accessible dropdown
    const btn = document.querySelector('.menu-button');
    const list = document.getElementById('menu-list');

    function closeMenu() {
      list.hidden = true;
      btn.setAttribute('aria-expanded', 'false');
    }
    function openMenu() {
      list.hidden = false;
      btn.setAttribute('aria-expanded', 'true');
    }

    btn.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      expanded ? closeMenu() : openMenu();
    });

    // Close on Esc or outside click
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMenu();
    });
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.menu')) closeMenu();
    });

    // Smooth-scroll for in-page links
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          closeMenu();
          history.replaceState(null, '', '#' + id);
        }
      });
    });
  </script>
</body>
</html>
